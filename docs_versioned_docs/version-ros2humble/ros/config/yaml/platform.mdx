---
title: Platform
sidebar_label: Platform
sidebar_position: 4
toc_min_heading_level: 2
toc_max_heading_level: 5
---
Every robot platform has unique structures such as versatile sensor mounting solutions, wireless charging receivers, and waterproofing enclosures; we refer to these as attachments.

## Joystick Controller
We support two types of controllers:
  - **ps4**: standard Playstation4 controller.
  - **logitech**: Logitech F710

```yaml
controller: ps4 # or logitech
```

## Attachments
Each platform has its own unique set of attachments. To facilitate customizability, any attachment from any platform can be added on any other platform.

There is a default `parent` links at which these attachments are added; however, the `parent` link can be change to wherever you'd want the attachment to be placed.

Additionally, all attachments can be moved around using the `xyz` parameter to translate and the `rpy` parameter to rotate.

Each attachment requires two parameters. The `name` parameter that will define the name of the links and joints added to URDF, and the `type` parameter which defines which type of attachment is to be added.

Some attachment types will have the same `type` parameter across different platforms. In that case, if you'd like to use the attachment that belongs to a specific platform, you will need to prefix the `type` parameter with the platform that it belongs to. For example, `top_plate` would become `a200.top_plate`. If no prefix is set, then the platform defined in the `serial_number` will be used.

### Husky A200
#### Bumper
The A200 can have bumpers of a variable length. By setting the `extension` parameter, the bumper can be extended if required.

By default, we have two bumpers, on the front and rear of the robot.
<table>
    <tr>
        <td>
            <center>
            <figure>
                <img
                    src={require("../img/attachments/a200/bumper.png").default}
                    width="250"
                />
            </figure>
            </center>
        </td>
<td>

```yaml
attachments:
  - name: front_bumper
    type: a200.bumper
    model: default
    parent: front_bumper_mount
    xyz: [0.0, 0.0, 0.0]
    rpy: [0.0, 0.0, 0.0]
    enabled: true
    extension: 0.0
  - name: rear_bumper
    type: a200.bumper
    model: default
    parent: rear_bumper_mount
    xyz: [0.0, 0.0, 0.0]
    rpy: [0.0, 0.0, 0.0]
    enabled: true
    extension: 0.0
```
</td>
</tr>
</table>

#### Top Plate
The A200 has three types of top plates that modify the mounting surface of the robot.

##### Default
The **default** top plate is mounted atop a user rail that can be used to mount certain payload inside the chassis and right below the top plate.
<table>
    <tr>
        <td>
            <center>
            <figure>
                <img
                    src={require("../img/attachments/a200/top_plate_default.png").default}
                    width="250"
                />
            </figure>
            </center>
        </td>
<td>

```yaml
attachments:
  - name: top_plate
    type: a200.top_plate
    model: default
    parent: mid_mount
    xyz: [0.0, 0.0, 0.0]
    rpy: [0.0, 0.0, 0.0]
    enabled: true
```
</td>
</tr>
</table>

##### Large
The **large** top plate does not have a user rail and is primarily used to mount larger payloads such as manipulators on the robot.
<table>
    <tr>
        <td>
            <center>
            <figure>
                <img
                    src={require("../img/attachments/a200/top_plate_large.png").default}
                    width="250"
                />
            </figure>
            </center>
        </td>
<td>

```yaml
attachments:
  - name: top_plate
    type: a200.top_plate
    model: large
    parent: mid_mount
    xyz: [0.0, 0.0, 0.0]
    rpy: [0.0, 0.0, 0.0]
    enabled: true
```
</td>
</tr>
</table>

##### PACS
The **pacs** top plate does not have a user rail. It has an opening to access the user bay within the chassis. It comes with the grid of mounting holes of the PACSâ„¢ **80mm x 80mm** grid.

<table>
    <tr>
        <td>
            <center>
            <figure>
                <img
                    src={require("../img/attachments/a200/top_plate_pacs.png").default}
                    width="250"
                />
            </figure>
            </center>
        </td>
<td>

```yaml
attachments:
  - name: top_plate
    type: a200.top_plate
    model: pacs
    parent: mid_mount
    xyz: [0.0, 0.0, 0.0]
    rpy: [0.0, 0.0, 0.0]
    enabled: true
```
</td>
</tr>
</table>

#### Sensor Arch
The A200 has two types of sensor archs which are used to mount sensors from a vantage point.

##### Sensor Arch 300
<table>
    <tr>
        <td>
            <center>
            <figure>
                <img
                    src={require("../img/attachments/a200/sensor_arch_300.png").default}
                    width="250"
                />
            </figure>
            </center>
        </td>
<td>

```yaml
attachments:
  - name: sensor_arch
    type: a200.sensor_arch
    model: sensor_arch_300
    parent: mid_mount
    xyz: [0.0, 0.0, 0.0]
    rpy: [0.0, 0.0, 0.0]
    enabled: true
```
</td>
</tr>
</table>

##### Sensor Arch 510
<table>
    <tr>
        <td>
            <center>
            <figure>
                <img
                    src={require("../img/attachments/a200/sensor_arch_510.png").default}
                    width="250"
                />
            </figure>
            </center>
        </td>
<td>

```yaml
attachments:
  - name: sensor_arch
    type: a200.sensor_arch
    model: sensor_arch_510
    parent: mid_mount
    xyz: [0.0, 0.0, 0.0]
    rpy: [0.0, 0.0, 0.0]
    enabled: true
```
</td>
</tr>
</table>

## Jackal J100 {#attachments-j100}

### Fenders
There are two types of fenders that can be equipped on the **J100** platform.

#### Default Fenders
The **default** fenders are the standard fenders that come with every **J100**.

The front and rear fender entries are indepenent from each other such that they can be modified independently.
<table>
    <tr>
        <td>
            <center>
            <figure>
                <img
                    src={require("../img/attachments/j100/fender_default.png").default}
                    width="250"
                />
            </figure>
            </center>
        </td>
<td>

```yaml
attachments:
  - name: front_fender
    type: fender
    model: default
    parent: base_link
    xyz: [0.0, 0.0, 0.0]
    rpy: [0.0, 0.0, 0.0]
    enabled: true
  - name: rear_fender
    type: fender
    model: default
    parent: base_link
    xyz: [0.0, 0.0, 0.0]
    rpy: [0.0, 0.0, 3.1415]
    enabled: true
```
</td>
</tr>
</table>

#### Sensor Fenders
The **default** fenders are the standard fenders that come with every **J100**.

The front and rear fender entries are indepenent from each other such that they can be modified independently.
<table>
    <tr>
        <td>
            <center>
            <figure>
                <img
                    src={require("../img/attachments/j100/fender_sensor.png").default}
                    width="250"
                />
            </figure>
            </center>
        </td>
<td>

```yaml
attachments:
  - name: front_fender
    type: fender
    model: sensor
    parent: base_link
    xyz: [0.0, 0.0, 0.0]
    rpy: [0.0, 0.0, 0.0]
    enabled: true
  - name: rear_fender
    type: fender
    model: sensor
    parent: base_link
    xyz: [0.0, 0.0, 0.0]
    rpy: [0.0, 0.0, 3.1415]
    enabled: true
```
</td>
</tr>
</table>

### Top Plate
The Jackal only has one type of top plate. The ark enclosure.

#### Ark Enclosure
<table>
    <tr>
        <td>
            <center>
            <figure>
                <img
                    src={require("../img/attachments/j100/top_plate_ark_enclosure.png").default}
                    width="250"
                />
            </figure>
            </center>
        </td>
<td>

```yaml
attachments:
  - name: ark_enclosure
    type: top_plate
    model: ark_enclosure
    parent: mid_mount
    xyz: [0.0, 0.0, 0.0]
    rpy: [0.0, 0.0, 0.0]
    enabled: true
```
</td>
</tr>
</table>

## Warthog W200 {#attachments-w200}

### Bulkhead
The Warthog bulkhead is used to cover payloads and to add a second surface to which to attach more payloads.

#### Default {#default-bulkhead}
<table>
    <tr>
        <td>
            <center>
            <figure>
                <img
                    src={require("../img/attachments/w200/bulkhead_default.png").default}
                    width="250"
                />
            </figure>
            </center>
        </td>
<td>

```yaml
attachments:
  - name: bulkhead
    type: bulkhead
    model: default
    parent: default_mount
    xyz: [0.00705, 0.0, 0.24184]
    rpy: [0.0, 0.0, 0.0]
    enabled: true
```
</td>
</tr>
</table>

#### Arm Mount {#arm-mount-bulkhead}
<table>
    <tr>
        <td>
            <center>
            <figure>
                <img
                    src={require("../img/attachments/w200/bulkhead_arm_mount.png").default}
                    width="250"
                />
            </figure>
            </center>
        </td>
<td>

```yaml
attachments:
  - name: bulkhead
    type: bulkhead
    model: arm_mount
    parent: default_mount
    xyz: [0.00705, 0.0, 0.24184]
    rpy: [0.0, 0.0, 0.0]
    enabled: true
```
</td>
</tr>
</table>

### Arm Mount
If instead of using the **bulkhead** to add an arm mount. We can add the arm mount independently using the following entry.
<table>
    <tr>
        <td>
            <center>
            <figure>
                <img
                    src={require("../img/attachments/w200/arm_mount.png").default}
                    width="250"
                />
            </figure>
            </center>
        </td>
<td>

```yaml
attachments:
  - name: arm_mount
    type: arm_mount
    parent: default_mount
    xyz: [0.0, 0.0, 0.0]
    rpy: [0.0, 0.0, 0.0]
    enabled: true
```
</td>
</tr>
</table>

### Generators
<table>
    <tr>
        <td>
            <center>
            <figure>
                <img
                    src={require("../img/attachments/w200/generator.png").default}
                    width="250"
                />
            </figure>
            </center>
        </td>
<td>

```yaml
attachments:
  - name: generator
    type: generator
    parent: default_mount
    xyz: [-0.42506, 0.0, 0.0017]
    rpy: [0.0, 0.0, 0.0]
    enabled: true
```
</td>
</tr>
</table>


## Extras
Despite all current customization options, we still would like our users to be able to add-in their existing custom URDF to the robot platform URDF and pass in and overwrite parameters to all platform nodes.
Extras have the following entries:

- **urdf:** absolute path to URDF to add to robot platform URDF.
- **ros_parameters:** in YAML to pass in parameters to platform nodes. This is useful to change parameters such as the robot's velocity and acceleration.

```yaml
extras:
  urdf: null # /absolute/path/to/urdf
  ros_parameters: {} # node parameter
```

### ROS Parameters
A common use case is to set and update the parameters to the `platform_velocity_controller` node. These can be used to modify the linear and angular velocity and acceleratation.

These can be passed in as follows:

**A200 Husky Controller Defaults:**
```yaml
platform:
  extras:
    ros_parameters:
      platform_velocity_controller:
        wheel_radius: 0.1651
        linear.x.max_velocity: 1.0
        linear.x.min_velocity: -1.0
        linear.x.max_acceleration: 3.0
        linear.x.min_acceleration: -3.0
        angular.z.max_velocity: 2.0
        angular.z.min_velocity: -2.0
        angular.z.max_acceleration: 6.0
        angular.z.min_acceleration: -6.0
```


**J100 Jackal Controller Defaults:**
```yaml
platform:
  extras:
    ros_parameters:
      platform_velocity_controller:
        wheel_radius: 0.098
        linear.x.max_velocity: 2.0
        linear.x.min_velocity: -2.0
        linear.x.max_acceleration: 20.0
        linear.x.min_acceleration: -20.0
        angular.z.max_velocity: 4.0
        angular.z.min_velocity: -4.0
        angular.z.max_acceleration: 25.0
        angular.z.min_acceleration: -25.0
```

**W200 Warthog Controller Defaults:**
```yaml
platform:
  extras:
    ros_parameters:
      platform_velocity_controller:
        wheel_radius: 0.3
        linear.x.max_velocity: 5.0
        linear.x.min_velocity: -5.0
        linear.x.max_acceleration: 50.0
        linear.x.min_acceleration: -50.0
        angular.z.max_velocity: 4.0
        angular.z.min_velocity: -4.0
        angular.z.max_acceleration: 40.0
        angular.z.min_acceleration: -40.0
```

## Sample

<details><summary>Sample A200 Platform Section</summary>
<p>

<center>
  <figure>
    <img
      src={require("../img/husky_platform_0.png").default}
      width="500"
    />
    <figcaption>Husky A200 with Default Top Plate</figcaption>
  </figure>
</center>

In this sample, we swapped the top plate from the **_default_** model to the **_pacs_** model. Notice all the links added by the **_pacs_** plate below, compared to the **_default_** plate above.

```yaml
  - name: top_plate
    type: a200.top_plate
    model: pacs # switched from 'default' to 'pacs'
    parent: mid_mount
    xyz: [0.0, 0.0, 0.0]
    rpy: [0.0, 0.0, 0.0]
    enabled: true
```

<center>
  <figure>
    <img
      src={require("../img/husky_platform_1.png").default}
      width="500"
    />
    <figcaption>Husky A200 with PACS Top Plate</figcaption>
  </figure>
</center>

Then, we added a sensor arch to add our sample sensors to. We can do this by adding the **attachment**, **sensor_arch** and setting the model to **_sensor_arch_300_**.

```yaml
  - name: sensor_arch
    type: a200.sensor_arch
    model: sensor_arch_300
    parent: mid_mount
    xyz: [0.0, 0.0, 0.0]
    rpy: [0.0, 0.0, 0.0]
    enabled: true
```

<center>
  <figure>
    <img
      src={require("../img/husky_platform_2.png").default}
      width="500"
    />
    <figcaption>Husky A200 with 300mm Sensor Arch</figcaption>
  </figure>
</center>

In terms of the **front_bumper** and **rear_bumper**, we left these as defaults. And, since we are not including any customization URDF or launch parameters; the resulting **platform** section look like this:

```yaml
platform:
  controller: ps4
  attachments:
    - name: front_bumper
      type: a200.bumper
      model: default
      parent: front_bumper_mount
      xyz: [0.0, 0.0, 0.0]
      rpy: [0.0, 0.0, 0.0]
      enabled: true
      extension: 0.0
    - name: rear_bumper
      type: a200.bumper
      model: default
      parent: rear_bumper_mount
      xyz: [0.0, 0.0, 0.0]
      rpy: [0.0, 0.0, 0.0]
      enabled: true
      extension: 0.0
    - name: top_plate
      type: a200.top_plate
      model: pacs
      parent: mid_mount
      xyz: [0.0, 0.0, 0.0]
      rpy: [0.0, 0.0, 0.0]
      enabled: true
    - name: sensor_arch
      type: a200.sensor_arch
      model: sensor_arch_300
      parent: mid_mount
      xyz: [0.0, 0.0, 0.0]
      rpy: [0.0, 0.0, 0.0]
      enabled: true
  extras:
    urdf: null
    ros_parameters: {}
```

</p>
</details>
